<link rel="import" href="help-list.html">
<link rel="import" href="help-input.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../mediator-data/mediator-data.html">
<!--
`<help-view location="[[location]]" edit="{{edit}}" folder="[[helpFolder]]" default-folder="{{helpDefaultFolder}}" edit-default="{{editDefault}}"></help-view>`
-->

<dom-module id="help-view">
  <template>
    <mediator-data id="s" as-array="{{help}}" location="{{location}}" folder="[[folder]]" default-folder="{{defaultFolder}}"></mediator-data>
    <help-list edit="[[edit]]" answer="[[answer]]" edit-default="[[editDefault]]" help="{{help}}" on-delete-help="deletehelpQuestion"></help-list>
    <template is="dom-if" if="{{edit}}">
      <help-input on-add-help="addhelpQuestion"></help-input>
    </template>
  </template>
</dom-module>
<script>
  Polymer({
    is: "help-view",
    properties: {
      help: Array,
      edit: Boolean,
      answer: Boolean,
      editDefault: Boolean
    },
    addhelpQuestion: function(e) {
      this.$.s.push({
        question: e.detail.Q
      });
    },
    deletehelpQuestion: function(e) {
      this.arrayDelete('help', e.detail.helpQuestion); //TODO e.detail.??
    },
    toggleView: function() {
      if (this.edit) this.admin = !this.admin;
    }
  });
</script>
